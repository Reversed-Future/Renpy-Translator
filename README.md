# Renpy翻译工具

一个用于翻译Renpy游戏脚本文件(.rpy)的工具，支持对照编辑、自动翻译和进度跟踪等功能。

## 功能特点

- **文件导入导出**：支持导入RPY文件，导出翻译时自动备份原文件
- **对照编辑**：左侧显示原文(不可编辑)，右侧输入翻译
- **翻译进度跟踪**：顶部显示已翻译数量/总数量
- **导航功能**：上一条/下一条按钮，快速跳转到首个未翻译条目
- **导航快捷键**：回车键(Enter)跳转到下一条，Ctrl+Enter插入换行
- **批量机翻**：支持Google Translate和DeepL API批量翻译
- **自动保存**：编辑过程中自动保存翻译进度

## 快速开始

### 使用可执行文件（Windows）

1. 直接运行`dist`目录下的`renpy_translator.exe`可执行文件
2. 首次运行可能需要通过Windows安全软件检查

### 使用Python源代码运行

1. 确保已安装Python 3.6或更高版本（推荐Python 3.8-3.10，与所有依赖库兼容性最好）
2. 安装所需依赖包：

```bash
pip install -r requirements.txt
```

> 注意：如果在较新版本的Python（3.11+）上遇到问题，请尝试使用推荐版本。

3. 运行程序：

```bash
python renpy_translator.py
```

## 使用方法

1. 从菜单栏选择"文件" > "导入RPY文件"来打开需要翻译的文件
2. 在右侧文本框中输入翻译内容
3. 使用导航按钮或快捷键在不同的翻译条目之间切换：
   - 按Enter键跳转到下一条
   - 按Ctrl+Enter组合键在当前翻译框中插入换行
4. 完成翻译后，选择"文件" > "导出翻译"来保存更改

## API密钥设置

- **DeepL翻译**：需要设置API密钥才能使用
- 从菜单栏选择"配置" > "设置API密钥"来输入您的DeepL API密钥
- 您可以从[DeepL官网](https://www.deepl.com/pro-api)获取API密钥

## 文件夹说明

- **backup/**：存储导入文件的原始备份(.rpy.bak)
- **cache/**：存储自动保存的翻译进度文件(.rpy.autosave)
- **dist/**：包含打包好的可执行文件
- **build/**：PyInstaller打包过程中生成的临时文件

## 注意事项

- 导出翻译时会自动在backup文件夹创建原文件的备份
- 编辑过程中会自动在cache文件夹保存翻译进度
- 批量翻译功能会在后台线程中执行，避免界面卡顿
- Google翻译功能可能会受到使用限制，如遇到问题请尝试使用DeepL翻译

## 问题反馈

如在使用过程中遇到任何问题，请随时反馈。